"use strict";(self.webpackChunktwits_test=self.webpackChunktwits_test||[]).push([[518],{947:function(e,r,t){t.d(r,{t:function(){return s}});t(2791);var n="MainContainer_mainContainer__qhIPi",a=t(184),s=function(e){var r=e.children;return(0,a.jsx)("main",{className:n,children:r})}},9529:function(e,r,t){t.r(r),t.d(r,{default:function(){return L}});var n=t(2791),a=t(947),s=t(1413),c=t(4165),l=t(3433),i=t(5861),o=t(9439),u=t(8174),f=t(5667),d=t(1087),p="Filter_wrapper__qV5uW",m="Filter_link__CpWaH",A="Filter_select__uQSiB",h=t(184),g=function(e){var r=e.handleChangeValue,t=e.filterValue;return(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)(d.rU,{to:"/",className:m,children:"Back"}),(0,h.jsxs)("label",{className:m,children:["Filter",(0,h.jsxs)("select",{className:A,value:t,onChange:r,children:[(0,h.jsx)("option",{value:"all",children:"all"}),(0,h.jsx)("option",{value:"follow",children:"follow"}),(0,h.jsx)("option",{value:"followings",children:"followings"})]})]})]})},x=t.p+"static/media/picture.86562350dcaa714a1442.png",v="Card_userCard__k65-2",_="Card_imgWrapper__KKDAb",w="Card_logo__n9aHq",C="Card_picture__1MO1J",j="Card_avatarWrapper__-mBqJ",b="Card_userAvatar__ksFwB",Z="Card_userInfo__HT01W",N="Card_userText__jrJU5",S="Card_btn__z7m2D",k="Card_b__Asen+",Q="Card_followingBtn__24nmJ",B=function(e){var r=e.item,t=e.followStatus,n=e.toggle,a=r.avatar,s=r.tweets,c=r.followers,l=r.id;return(0,h.jsxs)("li",{className:v,children:[(0,h.jsxs)("div",{className:_,children:[(0,h.jsx)("img",{className:w,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAWCAYAAABqgnq6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ2SURBVHgB7VixSgNBEJ0TI8QihQqm0MLGQgstbCxsrP1mQRsbwTQGkkKLBDRFBFMkYA7ivNxsmCx32U1MzAg+GG7vbm5v993Mm+GS0Wh0Q+vHgO0uSZK0yIHXecaHQ1ozNsgGymzn9AdghTCgylF0TMZhiTDgmEnbJ8OwRhhwzqRtk1FYJKzEdsmkbZJBxC5qyPbK1qWsopXFULV2c/x7bC3xT5XvAcXBFYFHWgzvbHUZH4kBD5Stf9Z7L2fcjyKsjxdxyR9414C2CLUW6yb7NnPm6LJvQxYUk3LjIpAzVwxSfm68Rp5jqK4P3PU8sO+IAgil5BRZPF+JreJpTEWN23qD4j/xlXnwlYcUBxSBZfZeWPuu2CRY3DXKz5YphCLsQ5GFjV9RpjE4f6Es3arKv6EWgTQ4lfGYKHxdzMfnSO/YFuKE/bu0HFyo8S1bynMH01AjFGEtNUanDbIQQTXKdKovY0TMp0fuqXq2LM87zEPAuAjIce0IRZjWrbIcu0zM1IZFx9IcXw2dxoU6UgBoiwnCQhGmN+7I20YEQZ88X61liD5fpzRJ8/RZmOeB5id5JQgRpkUQqYdFI7Wu2XY835IIJ8Qdm6yrey51HWLbC+DZq9BrRSglj5iEthNrPr8Vffoq+LOA1EQ0gLQW+77xcEuXcnm+SnFAi9ImQwhFmOu6dWvQ12SJfrn7KM9nrmTDL4esWAHvLNiDrRQxjSt07Jo3i4qJDjqV55B+6JH8zePanrQdPfWeIv88gOQnWhz4cO53UaXAB+1KSnMWk8TID0QN6N+9r1v/PxCLUbMk8j6sEQaR75BhWCLMpMj7sELYT0X+1/ANbvUOPPqsLv4AAAAASUVORK5CYII=",alt:"logo"}),(0,h.jsx)("img",{className:C,src:x,alt:"pictures"}),(0,h.jsx)("div",{className:j,children:(0,h.jsx)("img",{className:b,src:a,alt:"\u0430\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})})]}),(0,h.jsxs)("div",{className:Z,children:[(0,h.jsxs)("p",{className:N,children:[s," tweets"]}),(0,h.jsxs)("p",{className:N,children:[c.toLocaleString("en-US")," followers"]}),(0,h.jsx)("button",{type:"button",className:"".concat(S," ").concat(t?Q:""),onClick:function(){return n(l,c)},children:(0,h.jsx)("span",{className:k,children:t?"Following":"Follow"})})]})]})},F=t(2),I=t(1243);I.Z.defaults.baseURL="https://6477ab3c9233e82dd53c038b.mockapi.io/users";var U=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(r){var t,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.Z.get("/?page=".concat(r,"&limit=3"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),W=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(r,t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.Z.put("/".concat(r),{followers:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(r,t){return e.apply(this,arguments)}}(),E="Cards_userCards__CC1Cr",M="Cards_loadMoreBtn__FsA-X",R=function(){var e=(0,n.useState)([]),r=(0,o.Z)(e,2),t=r[0],a=r[1],d=(0,n.useState)(1),p=(0,o.Z)(d,2),m=p[0],A=p[1],x=(0,n.useState)(!1),v=(0,o.Z)(x,2),_=v[0],w=v[1],C=(0,n.useState)({}),j=(0,o.Z)(C,2),b=j[0],Z=j[1],N=(0,n.useState)(!1),S=(0,o.Z)(N,2),k=S[0],Q=S[1],I=(0,n.useRef)(f.NY),R=(0,n.useState)("all"),L=(0,o.Z)(R,2),J=L[0],q=L[1];(0,n.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(r){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Q(!0),e.next=4,U(r);case 4:if(0!==(t=e.sent).length){e.next=8;break}return w(!0),e.abrupt("return");case 8:a((function(e){return[].concat((0,l.Z)(e),(0,l.Z)(t))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),u.Am.error(e.t0.message);case 14:return e.prev=14,Q(!1),I.current.scrollMore(300,{}),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[0,11,14,18]])})));return function(r){return e.apply(this,arguments)}}();e(m)}),[m]),(0,n.useEffect)((function(){var e=localStorage.getItem("followStatus");if(e)Z(JSON.parse(e));else{var r={};t.forEach((function(e){r[e.id]=!1})),Z(r)}}),[]);var Y=(0,n.useCallback)((function(e){localStorage.setItem("followStatus",JSON.stringify(e))}),[]),y=(0,n.useCallback)(function(){var e=(0,i.Z)((0,c.Z)().mark((function e(r,t){var n,l;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,s.Z)({},b),l=n[r]?t-1:t+1,Q(!0),e.next=6,W(r,l);case 6:n[r]=!n[r],Z(n),Y(n),a((function(e){return e.map((function(e){return e.id===r?(0,s.Z)((0,s.Z)({},e),{},{followers:n[r]?e.followers+1:e.followers-1}):e}))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),u.Am.error(e.t0.message);case 15:return e.prev=15,Q(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(r,t){return e.apply(this,arguments)}}(),[b,Y]),K=(0,n.useMemo)((function(){return"all"===J?t:"follow"===J?t.filter((function(e){return!b[e.id]})):"followings"===J?t.filter((function(e){return b[e.id]})):t}),[J,b,t]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g,{handleChangeValue:function(e){q(e.target.value)},filterValue:J}),(0,h.jsx)("ul",{className:E,children:K.length>0?K.map((function(e){return(0,h.jsx)(B,{item:e,followStatus:b[e.id],toggle:y},e.id)})):(0,h.jsx)(F.g,{})}),t.length>0&&k?(0,h.jsx)(F.g,{}):(0,h.jsx)("button",{className:M,type:"button",disabled:_,onClick:function(){return A((function(e){return e+1}))},children:_?"No More Users":"Load More"})]})},L=function(){return(0,h.jsx)(a.t,{children:(0,h.jsx)(R,{})})}}}]);
//# sourceMappingURL=518.a350eef1.chunk.js.map